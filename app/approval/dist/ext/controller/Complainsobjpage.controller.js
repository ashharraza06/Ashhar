sap.ui.define(["sap/ui/core/mvc/ControllerExtension"],function(e){"use strict";return e.extend("approval.ext.controller.Complainsobjpage",{override:{onInit:function(){var e=this.base.getExtensionAPI().getModel()},routing:{onBeforeBinding:async function(e){debugger;var t=window.location.href;var a=/complains\('([^']+)'\)/;var n=t.match(a);var o=n[1];var i=JSON.stringify({complainno:o});let r="submitcomplaints";debugger;let s=this.getView().getModel().bindContext(`/${r}(...)`);s.setParameter("data",i);s.setParameter("status",JSON.stringify({status:"getComp"}));await s.execute();debugger;let l=s.getBoundContext();var g=l.getValue();debugger;let d=g.value;d=JSON.parse(d);var u=d[0].days;var c=7-u+" days left to take action";var m=sap.ui.getCore().byId("approval::complainsObjectPage--fe::CustomSubSection::Noti--notification");m.removeStyleClass("greenText yellowText redText");if(u<=2){m.addStyleClass("greenText")}else if(u>=3&&u<=5){m.addStyleClass("yellowText")}else{m.addStyleClass("redText")}m.setText(c)},onAfterBinding:function(e){debugger;var t=window.location.href;var a=/complains\('([^']+)'\)/;var n=a.exec(t);var o=n?n[1]:null;var i=this.base.getView().getContent()[0].getSections()[3].mAggregations._grid.getContent()[0].mAggregations._grid.getContent()[0].getContent().getItems()[0].mBindingInfos.items.binding;i.filter(new sap.ui.model.Filter({path:"complaintno",operator:sap.ui.model.FilterOperator.EQ,value1:o}))}}}})});