sap.ui.define(["sap/m/MessageToast","sap/m/Select","sap/m/Label","sap/m/Dialog","sap/m/Button","sap/ui/layout/VerticalLayout","jquery.sap.global"],function(e,t,a,s,r,o){"use strict";return{FurtherAssign:async function(n){debugger;var i=window.location.href;var l=/complains\('([^']+)'\)/;var c=i.match(l);var u=c[1];var p="Further Assigned";let m=JSON.stringify({complainno:u,cstatus:p});var d="/odata/v4/my/complains/"+u;var v=this._view.getModel().sServiceUrl;let g="submitcomplaints";var w=this._view.getModel().bindContext(`/${g}(...)`);w.setParameter("data",m);w.setParameter("status",JSON.stringify({status:"patchComp1"}));var h=new t({items:{path:"/approvers",template:new sap.ui.core.Item({key:"{id}",text:"{name}"})}});var f=new sap.ui.model.json.JSONModel;await $.ajax({url:v+`approvers`,type:"GET",success:function(e){debugger;let t=e.value;var a=t.map(e=>({name:e.name}));f.setData({approvers:a});h.setModel(f)},error:function(e,t,a){console.error("Error fetching approvers:",a)}});var y=new s({title:"Submit",resizable:true,draggable:true,content:[new o({content:[new a({text:"Select Person to Further Assign:"}),h]})],buttons:[new r({text:"Yes",press:async function(){await w.execute();y.close();e.show("The complaint has been forwarded successfully");location.reload()}}),new r({text:"No",press:function(){y.close();e.show("Cancelled")}})]}).addStyleClass("myCustomDialogClass");y.open()}}});